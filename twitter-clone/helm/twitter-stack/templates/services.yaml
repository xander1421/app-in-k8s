---
apiVersion: v1
kind: Service
metadata:
  name: user-service
  namespace: {{ .Values.namespace }}
  labels:
    app: user-service
spec:
  selector:
    app: user-service
  ports:
    - name: http
      port: {{ .Values.services.userService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.userService.port }}
      targetPort: 8080
      protocol: UDP

---
apiVersion: v1
kind: Service
metadata:
  name: tweet-service
  namespace: {{ .Values.namespace }}
  labels:
    app: tweet-service
spec:
  selector:
    app: tweet-service
  ports:
    - name: http
      port: {{ .Values.services.tweetService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.tweetService.port }}
      targetPort: 8080
      protocol: UDP

---
apiVersion: v1
kind: Service
metadata:
  name: timeline-service
  namespace: {{ .Values.namespace }}
  labels:
    app: timeline-service
spec:
  selector:
    app: timeline-service
  ports:
    - name: http
      port: {{ .Values.services.timelineService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.timelineService.port }}
      targetPort: 8080
      protocol: UDP

---
apiVersion: v1
kind: Service
metadata:
  name: media-service
  namespace: {{ .Values.namespace }}
  labels:
    app: media-service
spec:
  selector:
    app: media-service
  ports:
    - name: http
      port: {{ .Values.services.mediaService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.mediaService.port }}
      targetPort: 8080
      protocol: UDP

---
apiVersion: v1
kind: Service
metadata:
  name: notification-service
  namespace: {{ .Values.namespace }}
  labels:
    app: notification-service
spec:
  selector:
    app: notification-service
  ports:
    - name: http
      port: {{ .Values.services.notificationService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.notificationService.port }}
      targetPort: 8080
      protocol: UDP

---
apiVersion: v1
kind: Service
metadata:
  name: search-service
  namespace: {{ .Values.namespace }}
  labels:
    app: search-service
spec:
  selector:
    app: search-service
  ports:
    - name: http
      port: {{ .Values.services.searchService.port }}
      targetPort: 8080
      protocol: TCP
    - name: http3
      port: {{ .Values.services.searchService.port }}
      targetPort: 8080
      protocol: UDP
